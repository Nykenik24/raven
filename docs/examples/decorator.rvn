decorator safeCall(f: (void)int)) {
  return function() int {
    let res: int;
    try {
      res = f();
    } catch (msg) {
      print("${f} threw: ${msg}")
      return 0;
    }
    return res;
  }
}

#safeCall
function divide(a: int, b: int) int {
  if (b == 0) throw "Can't divide by zero";
  return a / b;
}

function main() int {
  divide(6, 2);
  divide(5, 0); // Will be handled by the decorator
  return 0;
}
